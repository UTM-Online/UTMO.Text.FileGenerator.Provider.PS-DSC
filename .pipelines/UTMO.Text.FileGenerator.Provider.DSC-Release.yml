name: $(Year:YYYY).$(Month).$(DayOfMonth)$(Rev:.rr)

trigger: none

resources:
  repositories:
    - repository: Templates
      type: git
      name: OneBuild/OneBuild.Pipelines.v2
      ref: refs/heads/main
      endpoint: UTMO
  pipelines:
    - pipeline: latest
      source: 'UTMO.Text.FileGenerator.Provider.DSC-Official'
      trigger:
        branches:
          - main

extends:
  template: v2/Pipelines/UserTemplates/Release/Deploy.NugetPkg.v2.Template.yml@Templates
  parameters:
    ReleasePool: Public
    DeploymentName: ConfigGenCore
    DisplayName: 'Publish UTMO.Text.FileGenerator.Provider.DSC package'
    SourcePipeline: 'UTMO.Text.FileGenerator.Provider.DSC-Official'
    UseWildcardMatch: true
    FeedSettings:
      'ConfigGen': 'internal'
      'UTMO Packages': 'external'